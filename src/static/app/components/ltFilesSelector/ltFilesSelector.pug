h2(ng-hide='$ctrl.userInfo', translate) Sign in
p(ng-hide='$ctrl.userInfo')
  span(translate) In order to allow locator-tool to modify file description pages, sign in first:
  a.btn.btn-success.navbar-btn.ml-2(href='/locator-tool/login?next=/locator-tool/')
    svg.octicon
      use(xlink:href='#sign-in')
    span(translate) Log in

p(ng-show='$ctrl.userInfo') Hello {{$ctrl.userInfo}}!

h2(translate) Select files to geolocate

ul.nav.nav-pills.my-3
  li.nav-item
    a.nav-link(translate, ng-click='$ctrl.$tab = "TAB_CATEGORY"', ng-class='{active: $ctrl.$tab === "TAB_CATEGORY"}')
      | Category
  li.nav-item
    a.nav-link(translate, ng-click='$ctrl.$tab = "TAB_USER"', ng-class='{active: $ctrl.$tab === "TAB_USER"}')
      | User files
  li.nav-item
    a.nav-link(translate, ng-click='$ctrl.$tab = "TAB_FILES"', ng-class='{active: $ctrl.$tab === "TAB_FILES"}')
      | File list

form(name='formUser', ng-submit='$ctrl.nextForUser()', ng-show='$ctrl.$tab === "TAB_USER"')
  .form-group
    label(for='inputUser', translate) User
    input#inputUser.form-control(ng-model='$ctrl.user', placeholder='User:…')
  .form-group.btn-group
    button.btn.btn-primary(ng-click='$ctrl.nextForUser()', ng-disabled='!$ctrl.user')
      svg.octicon
        use(xlink:href='#location')
      span(translate) Geolocate User files
    button.btn.btn-secondary(ng-click="$ctrl.nextForUser('map')", ng-disabled='!$ctrl.user')
      svg.octicon
        use(xlink:href='#globe')
      span(translate) Show User files on map
    input.invisible(type='submit', ng-disabled='!$ctrl.user')
  lt-spinner(ng-if='$ctrl.getFilesForUser$q && !$ctrl.getFilesForUser$q.$$state.status')

form(name='formCategory', ng-submit='$ctrl.nextForCategory()', ng-show='$ctrl.$tab === "TAB_CATEGORY"')
  .form-group.row
    .col-lg-10
      label(for='inputCategory', translate) Category
      input#inputCategory.form-control(list='datalistCategory', ng-model='$ctrl.category', ng-model-options="{updateOn: 'default blur', debounce: {default: 500, change: 0, blur: 0}}", ng-change='$ctrl.getCategoriesForPrefix()', placeholder='Category:…')
    .col-lg-2
      label(for='inputCategoryDepth', translate-comment='Depth of category tree', translate-context='Category', translate) Depth
      input#inputCategoryDepth.form-control(type='number', ng-model='$ctrl.categoryDepth')
  .form-group.btn-group
    button.btn.btn-primary(ng-click='$ctrl.nextForCategory()', ng-disabled='!$ctrl.category')
      svg.octicon
        use(xlink:href='#location')
      span(translate) Geolocate Category
    button.btn.btn-secondary(ng-click="$ctrl.nextForCategory('map')", ng-disabled='!$ctrl.category')
      svg.octicon
        use(xlink:href='#globe')
      span(translate) Show Category on map
    input.invisible(type='submit', ng-disabled='!$ctrl.category')
  lt-spinner(ng-if='$ctrl.getFilesForCategory$q && !$ctrl.getFilesForCategory$q.$$state.status')
  datalist#datalistCategory
    option(ng-repeat='i in $ctrl.categorySuggestions', ng-value='i')

form(name='formTitles', ng-show='$ctrl.$tab === "TAB_FILES"')
  .form-group
    label(for='inputTitles', translate) Files
    textarea#inputTitles.form-control(rows='10', ng-model='$ctrl.titles', placeholder='File:…')
  .form-group.btn-group
    button.btn.btn-primary(ng-disabled='!$ctrl.titleList.length', ng-click='$ctrl.next()')
      svg.octicon
        use(xlink:href='#location')
      span(translate) Geolocate {{$ctrl.titleList.length}} files
    button.btn.btn-secondary(ng-disabled='!$ctrl.titleList.length', ng-click="$ctrl.next('map')")
      svg.octicon
        use(xlink:href='#location')
      span(translate) Show {{$ctrl.titleList.length}} files on map
