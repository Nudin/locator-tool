!function(t){function e(e){for(var o,r,l=e[0],s=e[1],c=e[2],u=0,d=[];u<l.length;u++)r=l[u],i[r]&&d.push(i[r][0]),i[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);for(g&&g(e);d.length;)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,l=1;l<a.length;l++){var s=a[l];0!==i[s]&&(o=!1)}o&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},i={1:0},n=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var g=s;n.push([168,0]),a()}({104:function(t,e,a){"use strict";a.r(e);a(6),a(103),a(100),a(96)},134:function(t,e,a){"use strict";a.r(e);a(2),a(41),a(40),a(38),a(39),a(36),a(133),a(108),a(106)},135:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iYSIgd2lkdGg9IjExMC4xOG1tIiBoZWlnaHQ9IjExMC4xMm1tIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMTAuMTg0NDIgMTEwLjExNjY5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPGcgaWQ9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMi4wMTUgLTQ5LjE3NCkiPgogIDxwYXRoIGlkPSJjIiBkPSJtNzYuODQzIDUyLjY3NGE1MS41OTQgNTEuNTk0IDAgMSAwIDAuNTI5MTcgMHptMC4yNjQ1OCAwdjEwMy4xOW01MS41OTQtNTEuNTk0aC0xMDMuMTltMTEuNjQyLTMxLjc1YTY4Ljc5MiA2OC43OTIgMCAwIDAgNzkuOTA0IDBtMCA2My41YTY4Ljc5MiA2OC43OTIgMCAwIDAgLTc5LjkwNCAwbTM1Ljk4My04Mi4wMjFhNjYuMTQ2IDY2LjE0NiAwIDAgMCAwIDEwMS4wN203LjkzNzUgMGE2Ni4xNDYgNjYuMTQ2IDAgMCAwIDAgLTEwMS4wNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDY5IiBzdHJva2Utd2lkdGg9IjciLz4KICA8Y2lyY2xlIGlkPSJkIiBjeD0iNTQuMjc4IiBjeT0iODEuMTg3IiByPSIxMi44NzIiIGZpbGw9IiM5MDAiIHN0cm9rZS13aWR0aD0iLjEyODcyIi8+CiA8L2c+Cjwvc3ZnPgo="},136:function(t,e){angular.module("gettext").run(["gettextCatalog",function(t){t.setStrings("fr",{'<a ui-sref="select">Select files to geolocate</a> by querying a category or inputting a list of <code>File:</code>s.':'<a ui-sref="select">Sélectionnez les fichiers à géolocaliser</a> par catégorie ou en entrant une liste de <code>File:</code>.',About:"À propos","About locator-tool":"À propos du locator-tool","Also show geolocated files":"Afficher aussi les fichiers géolocalisés",'Camera location via\n<a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Location</code></a>':'Emplacement de l\'appareil photo, via <a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Location</code></a>',Category:"Par catégorie",Depth:{Category:"Profondeur"},Discard:"Effacer","Edits using locator-tool":"Modifications utilisant locator-tool","End timestamp":"Horodatage (fin)","Failed to save: {{$ctrl.error.statusText}}":"La sauvegarde a échoué : {{$ctrl.error.statusText}}","Fetched 0 files for category <code>{{$ctrl.category}}</code>!":"0 fichiers récupérés pour l'utilisateur <code>{{$ctrl.user}}</code> !","Fetched 0 files for user <code>{{$ctrl.user}}</code>!":"0 fichiers récupérés pour l'utilisateur <code>{{$ctrl.user}}</code> !","File list":"Liste de fichiers","From the list of files provided, select one and click its location on an interactive map.":"Sélectionnez un fichier dans la liste, et cliquez sur son emplacement sur la carte.","Geolocate files":"Géolocaliser les fichiers","In order to allow locator-tool to modify file description pages, sign in first:":"Vous devez vous identifier avec votre compte Wikimedia pour permettre au locator-tool de modifier les descriptions des images :",'Its source code is available on <a href="https://github.com/simon04/locator-tool">GitHub</a> and <a href="https://www.gnu.org/licenses/gpl.html">GPL v3</a> licensed.':'Le code source est sous licence <a href="https://www.gnu.org/licenses/gpl.html">GPL v3</a> et disponible sur <a href="https://github.com/simon04/locator-tool">GitHub</a>.',LANGUAGE:"Français","Left click on map to set the location.":"Clic-gauche sur la carte pour définir l'emplacement",Limit:"Limite","Load Category to geolocate":"Charger la Catégorie à géolocaliser","Load User files to geolocate":"Charger les fichiers de l'utilisateur à géolocaliser","Load {{$ctrl.titleList.length}} files to geolocate":"Charger {{$ctrl.titleList.length}} fichiers à géolocaliser","Loading file details …":"Chargement des informations des fichiers…","Log in":"Se connecter","Log in using the button on the upper right corner":"Identifiez-vous en utilisant le bouton en haut à droite","Log out":"Se déconnecter","Logged in as {{$ctrl.user}}":"Identifié en tant que {{$ctrl.user}}",Map:"Carte",'Object location via\n<a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Object location</code></a>':'Emplacement de l\'objet représenté, via <a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Object location</code></a>',"Press shift and click on map to set the object location.":"Majuscule+clic gauche sur la carte pour définir l'emplacement","Repeat …":"Répéter…",Save:"Enregistrer","Select files":"Sélectionner les fichiers","Select files to geolocate":"Sélectionner les fichiers à géolocaliser","Show Category on map":"Voir la catégorie sur une carte","Show User files on map":"Voir les fichiers de l'utilisateur sur une carte","Show {{$ctrl.titleList.length}} files on map":"Voir les {{$ctrl.titleList.length}} fichiers sur une carte","Sign in":"Se connecter","Start timestamp":"Horodatage (début)",'This tool has been created by <a href="https://github.com/simon04/">simon04</a>.':'Cet outil a été créé par <a href="https://github.com/simon04/">simon04</a>.','This tool helps to add <code class="mediawiki-template">Coordinate</code> information to images on <a href="https://commons.wikimedia.org/">Wikimedia Commons</a>.':'Cet outil aide à remplir les templates <code class="mediawiki-template">Location</code> et <code class="mediawiki-template">Object Location</code>  » des images présentes sur <a href="https://commons.wikimedia.org/">Wikimedia Commons</a>',"Translate locator-tool on Transifex":"Traduire le locator-tool sur Transifex",Tutorial:"Didacticiel",Usage:"Utilisation",User:"Utilisateur","User files":"Par utilisateur","When a clipboard content containing HTML code (for instance a copied selection from a Commons gallery) is pasted here, locator-tool tries to extract <code>File:</code>s from the code.":"Quand le contenu du presse-papier (par exemple copié depuis une gallerie Commons) est collé ici, le locator-tool tente d'en extraire les <code>File:</code>.","locator-tool":"locator-tool",'→ <a href="https://commons.wikimedia.org/wiki/Commons:Locator-tool">Commons:Locator-tool</a>':'→ <a href="https://commons.wikimedia.org/wiki/Commons:Locator-tool">Commons:Locator-tool</a>'})}])},137:function(t,e){angular.module("gettext").run(["gettextCatalog",function(t){t.setStrings("de",{'<a ui-sref="select">Select files to geolocate</a> by querying a category or inputting a list of <code>File:</code>s.':'<a ui-sref="select">Dateien zum Georeferenzieren auswählen</a> via Kategorie oder <code>Datei:</code>-Liste.',About:"Über","About locator-tool":"Über locator-tool","Also show geolocated files":"Auch georeferenzierte Dateien anzeigen",'Camera location via\n<a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Location</code></a>':'Kameraposition mittels\n <a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Location</code></a>',Category:"Kategorie",Depth:{Category:"Tiefe"},Discard:"Verwerfen","Edits using locator-tool":"Bearbeitungen mit locator-tool","End timestamp":"Endzeitpunkt","Failed to save: {{$ctrl.error.statusText}}":"Fehler beim Speichern: {{$ctrl.error.statusText}}","Fetched 0 files for category <code>{{$ctrl.category}}</code>!":"0 Dateien für Kategorie <code>{{$ctrl.category}}</code> geladen!","Fetched 0 files for user <code>{{$ctrl.user}}</code>!":"0 Dateien für Benutzer <code>{{$ctrl.user}}</code> geladen!","File list":"Dateiliste","From the list of files provided, select one and click its location on an interactive map.":"Eine Datei in der Dateiliste auswählen und deren Position durch Klick auf die interaktive Karte auswählen.","Geolocate files":"Dateien georeferenzieren","Hello {{$ctrl.userInfo}}!":"Hallo {{$ctrl.userInfo}}!","In order to allow locator-tool to modify file description pages, sign in first:":"Bitte anmelden, damit locator-tool Änderungen an Dateibeschreibungsseiten vornehmen kann:",'Its source code is available on <a href="https://github.com/simon04/locator-tool">GitHub</a> and <a href="https://www.gnu.org/licenses/gpl.html">GPL v3</a> licensed.':'Der Quellcode ist auf <a href="https://github.com/simon04/locator-tool">GitHub</a> verfügbar. Das Tool steht unter der Lizenz <a href="https://www.gnu.org/licenses/gpl.html">GPL v3</a>.',LANGUAGE:"Deutsch","Left click on map to set the location.":"Linksklick auf Karte setzt die Position.",Limit:"maximale Anzahl","Load Category to geolocate":"Kategorie laden zum Georeferenzieren","Load User files to geolocate":"Dateien des Benutzers laden zum Georeferenzieren","Load {{$ctrl.titleList.length}} files to geolocate":"{{$ctrl.titleList.length}} Dateien laden zum Georeferenzieren","Loading file details …":"Dateiinformationen werden geladen …","Log in":"Anmelden","Log in using the button on the upper right corner":"Anmelden mittels Button im rechten oberen Eck","Log out":"Abmelden","Logged in as {{$ctrl.user}}":"Angemeldet als {{$ctrl.user}}",Map:"Karte",'Object location via\n<a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Object location</code></a>':'Objektposition mittels\n <a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Object location</code></a>',"Press shift and click on map to set the object location.":"Shift-Taste und Klick auf Karte setzt die Objektposition.","Repeat …":"Wiederhole …",Save:"Speichern","Select files":"Dateien auswählen","Select files to geolocate":"Dateien zum Georeferenzieren auswählen","Show Category on map":"Kategorie auf Karte anzeigen","Show User files on map":"Dateien des Benutzers auf Karte anzeigen","Show {{$ctrl.titleList.length}} files on map":"{{$ctrl.titleList.length}} Dateien auf Karte anzeigen","Sign in":"Anmelden","Start timestamp":"Anfangszeitpunkt",'This tool has been created by <a href="https://github.com/simon04/">simon04</a>.':'Dieses Werkzeug wurde von <a href="https://github.com/simon04/">simon04</a> entwickelt.','This tool helps to add <code class="mediawiki-template">Coordinate</code> information to images on <a href="https://commons.wikimedia.org/">Wikimedia Commons</a>.':'Dieses Werkzeug hilft <code class="mediawiki-template">Coordinate</code> zu bestehenden Dateien auf <a href="https://commons.wikimedia.org/">Wikimedia Commons</a> hinzuzufügen.',"Translate locator-tool on Transifex":"Übersetze locator-tool auf Transifex",Tutorial:"Einführung",Usage:"Verwendung",User:"Benutzer","User files":"Dateien des Benutzers","When a clipboard content containing HTML code (for instance a copied selection from a Commons gallery) is pasted here, locator-tool tries to extract <code>File:</code>s from the code.":"Wenn hier Inhalt aus der Zwischenablage HTML-Code enthält (beispielsweise durch Kopieren einer Commons-Galerie) eingefügt wird, versucht locator-tool automatisch <code>File:</code> daraus zu extrahieren.","locator-tool":"locator-tool",'→ <a href="https://commons.wikimedia.org/wiki/Commons:Locator-tool">Commons:Locator-tool</a>':'→ <a href="https://commons.wikimedia.org/wiki/Commons:Locator-tool">Commons:Locator-tool</a>'})}])},138:function(t,e){angular.module("gettext").run(["gettextCatalog",function(t){t.setStrings("cs",{'<a ui-sref="select">Select files to geolocate</a> by querying a category or inputting a list of <code>File:</code>s.':'<a ui-sref="select">Vyberte soubory pro geolokaci</a> dotazem na kategorii nebo seznamem <code>Soubor:</code>ů',About:"O nástroji","About locator-tool":"O nástroji locator-tool","Also show geolocated files":"Zobrazít i geolokované soubory",'Camera location via\n<a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Location</code></a>':'Pozice fotoaparátu\n<a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Lokace</code></a>',Category:"Kategorie",Depth:{Category:"Hloubka"},Discard:"Zrušit","Edits using locator-tool":"Editace pomocí locator-tool","End timestamp":"Do","Failed to save: {{$ctrl.error.statusText}}":"Nepovedlo se uložit: {{$ctrl.error.statusText}}","Fetched 0 files for category <code>{{$ctrl.category}}</code>!":"Načteno 0 souborů z kategorie <code>{{$ctrl.category}}1</code>!","Fetched 0 files for user <code>{{$ctrl.user}}</code>!":"Načteno 0 souborů uživatele <code>{{$ctrl.user}}</code>!","File list":"Seznam souborů","From the list of files provided, select one and click its location on an interactive map.":"Vyberte soubor ze seznamu souborů a klikněte na pozici fotoaparátu, odkud byl vyfocen.","Geolocate files":"Geolokovat soubory","In order to allow locator-tool to modify file description pages, sign in first:":"Pro povolení editace stránek souborů pomocí nástroje locator-tool se prosím přihlašte:",'Its source code is available on <a href="https://github.com/simon04/locator-tool">GitHub</a> and <a href="https://www.gnu.org/licenses/gpl.html">GPL v3</a> licensed.':'Zdrojový kód nástroje je dostupný na <a href="https://github.com/simon04/locator-tool">GitHubu</a> a je licencován pomocí licence <a href="https://www.gnu.org/licenses/gpl.html">GPL v3</a>.',LANGUAGE:"Čeština","Left click on map to set the location.":"Na nastavení umístění klikněte levým tlačítkem myši.",Limit:"Limit","Load Category to geolocate":"Načtěte kategorii pro geolokování.","Load User files to geolocate":"Načtěte soubory uživatele pro geolokování.","Load {{$ctrl.titleList.length}} files to geolocate":"Načteno {{$ctrl.titleList.length}} souborů pro geolokaci.","Loading file details …":"Načítám detaily souborů ...","Log in":"Přihlásit","Log in using the button on the upper right corner":"Přihlašte se pomocí tlačítka v pravém horním rohu","Log out":"Odhlásit","Logged in as {{$ctrl.user}}":"Přihlášen jako {{$ctrl.user}}",Map:"Mapa",'Object location via\n<a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Object location</code></a>':'Umístění objektu pomocí\n<a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Umístění objektu</code></a>',"Press shift and click on map to set the object location.":"Pro nastavení pozice objektu zmáčkněte Shift a klikněte do mapy.","Repeat …":"Opakovat ...",Save:"Uložit","Select files":"Vyberte soubory","Select files to geolocate":"Vyberte soubory pro geolokaci","Show Category on map":"Zobrazit kategorii na mapě","Show User files on map":"Zobrazit soubory uživatele na mapě","Show {{$ctrl.titleList.length}} files on map":"Zobrazit {{$ctrl.titleList.length}} souborů na mapě","Sign in":"Přihlásit","Start timestamp":"Od",'This tool has been created by <a href="https://github.com/simon04/">simon04</a>.':'Autorem tohoto nástroje je <a href="https://github.com/simon04/">simon04</a>.','This tool helps to add <code class="mediawiki-template">Coordinate</code> information to images on <a href="https://commons.wikimedia.org/">Wikimedia Commons</a>.':'Tento nástroj pomáhá přidávat informace o <code class="mediawiki-template">souřadnicích</code> obrázků na <a href="https://commons.wikimedia.org/">Wikimedia Commons</a>.',"Translate locator-tool on Transifex":"Přeložte locator-tool na Transifex",Tutorial:"Tutorial",Usage:"Použití",User:"Uživatel","User files":"Soubory uživatele","When a clipboard content containing HTML code (for instance a copied selection from a Commons gallery) is pasted here, locator-tool tries to extract <code>File:</code>s from the code.":"V případě, že vložíte obsah schránky, který obsahuje HTML kód (například z galerie na Commons), tak se locator-tool pokusí extrahovat z kódu informace of <code>Soubor:</code>ech.","locator-tool":"locator-tool",'→ <a href="https://commons.wikimedia.org/wiki/Commons:Locator-tool">Commons:Locator-tool</a>':'→ <a href="https://commons.wikimedia.org/wiki/Commons:Locator-tool">Commons:Locator-tool</a>'})}])},139:function(t,e){angular.module("gettext").run(["gettextCatalog",function(t){t.setStrings("bn",{'<a ui-sref="select">Select files to geolocate</a> by querying a category or inputting a list of <code>File:</code>s.':'একটি বিষয়শ্রেণী অনুসন্ধান করে বা <code>চিত্র:</code>সমূহের তালিকা থেকে <a ui-sref="select">ফাইলসমূহ নির্বাচন করে ভূ-অবস্থান নির্ণয় করুন</a>',About:"সম্পর্কে","About locator-tool":"লোকেটর-টুল সম্বন্ধে","Also show geolocated files":"ভূ-অবস্থানযুক্ত ফাইলসমূহও দেখাবে",'Camera location via\n<a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Location</code></a>':'<a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Location</code></a>\nমারফত ক্যামেরা অবস্থান ',Category:"বিষয়শ্রেণী",Depth:{Category:"গভীরতা"},Discard:"বাতিল করুন","Edits using locator-tool":"লোকেটর-টুল ব্যবহার করে সম্পাদনাসমূহ","End timestamp":"টাইমস্ট্যাম্প শেষ","Failed to save: {{$ctrl.error.statusText}}":"সংরক্ষণ করতে ব্যর্থ হয়েছে: {{$ctrl.error.statusText}}","Fetched 0 files for category <code>{{$ctrl.category}}</code>!":"<code>{{$ctrl.category}}</code>বিষয়শ্রেণীর জন্য 0টি ফাইল আনা হয়েছে!","Fetched 0 files for user <code>{{$ctrl.user}}</code>!":"<code>{{$ctrl.user}}</code> ব্যবহারকারীর জন্য 0টি ফাইল আনা হয়েছে!","File list":"ফাইলের তালিকা","From the list of files provided, select one and click its location on an interactive map.":"ফাইলসমূহের প্রদত্ত তালিকা থেকে, একটি নির্বাচন করুন ও একটি আদানপ্রদানমূলক মানচিত্রে তার অবস্থান ক্লিক করুন।","Geolocate files":"ফাইলসমূহের ভূ-অবস্থান নির্ণয়","In order to allow locator-tool to modify file description pages, sign in first:":"লোকেটর-টুলকে ফাইলের বর্ণনা পাতা পরিবর্তন করতে অনুমতি দিতে প্রথমে প্রবেশ করুন:",'Its source code is available on <a href="https://github.com/simon04/locator-tool">GitHub</a> and <a href="https://www.gnu.org/licenses/gpl.html">GPL v3</a> licensed.':'এর উৎস কোড <a href="https://github.com/simon04/locator-tool">গিটহাবে</a> <a href="https://www.gnu.org/licenses/gpl.html">GPL v3</a>লাইসেন্সে উপলব্ধ।',LANGUAGE:"বাংলা","Left click on map to set the location.":"মানচিত্রে বাম ক্লিক করে অবস্থান সূচক করুন।",Limit:"সীমা","Load Category to geolocate":"ভূ-অবস্থান নির্ণয় করতে বিষয়শ্রেণী লোড করুন","Load User files to geolocate":"ভূ-অবস্থান নির্ণয় করতে ব্যবহারকারী ফাইলসমূহ লোড করুন ","Load {{$ctrl.titleList.length}} files to geolocate":"ভূ-অবস্থান নির্ণয় করতে {{$ctrl.titleList.length}}টি ফাইল লোড করুন","Loading file details …":"ফাইলের বিস্তারিত লোড হচ্ছে ...","Log in":"প্রবেশ করুন","Log in using the button on the upper right corner":"ওপরের ডানদিকের কোণে বোতাম ব্যবহার করে প্রবেশ করুন","Log out":"প্রস্থান করুন","Logged in as {{$ctrl.user}}":"{{$ctrl.user}} হিসেবে প্রবেশ করা হয়েছে",Map:"মানচিত্র",'Object location via\n<a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Object location</code></a>':'<a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Object location</code></a>\nমারফত বস্তুর অবস্থান',"Press shift and click on map to set the object location.":"শিফট টিপে ও মানচিত্রে ক্লিক করে বস্তুর অবস্থান সূচক করুন।","Repeat …":"পুনরায়...",Save:"সংরক্ষণ করুন","Select files":"ফাইলসমূহ নির্বাচন করুন","Select files to geolocate":"ভূ-অবস্থান নির্ণয় করতে ফাইলসমূহ নির্বাচন করুন","Show Category on map":"মানচিত্রে বিষয়শ্রেণী দেখান","Show User files on map":"মানচিত্রে ব্যবহারকারী ফাইলসমূহ দেখান","Show {{$ctrl.titleList.length}} files on map":"মানচিত্রে {{$ctrl.titleList.length}}টি ফাইল দেখান","Sign in":"প্রবেশ করুন","Start timestamp":"টাইমস্ট্যাম্প শুরু",'This tool has been created by <a href="https://github.com/simon04/">simon04</a>.':'এই সরঞ্জাম তৈরি করেছেন <a href="https://github.com/simon04/">simon04</a>।','This tool helps to add <code class="mediawiki-template">Coordinate</code> information to images on <a href="https://commons.wikimedia.org/">Wikimedia Commons</a>.':'এই সরঞ্জাম <a href="https://commons.wikimedia.org/">উইকিমিডিয়া কমন্সে</a> চিত্রগুলিতে <code class="mediawiki-template">Coordinate</code> তথ্য যোগ করতে সহায়তা করে।',"Translate locator-tool on Transifex":"ট্রান্সিফেক্সে লোকেটর-টুল অনুবাদ করুন",Tutorial:"নির্দেশিকা",Usage:"ব্যবহার",User:"ব্যবহারকারী","User files":"ব্যবহারকারী ফাইলসমূহ","locator-tool":"লোকেটর-টুল",'→ <a href="https://commons.wikimedia.org/wiki/Commons:Locator-tool">Commons:Locator-tool</a>':'→ <a href="https://commons.wikimedia.org/wiki/Commons:Locator-tool"> কমন্স:লোকেটর-টুল</a>'})}])},142:function(t,e,a){var o=a(27);(t.exports=a(13)(!1)).push([t.i,'[ng-click]{cursor:pointer}.fill,body,html{height:100%}.fill-absolute{position:absolute;top:0;bottom:0;left:15px;right:15px;overflow-y:auto}@media (min-width:768px) and (max-width:1199px){.col-lg-h40{height:40%}.col-lg-h60{height:60%}}a[href="https://github.com/simon04/locator-tool"]{background:url('+o(a(141))+');background-position:0;background-repeat:no-repeat;padding-left:20px}.octicon{width:1em;height:1em}.octicon+span:before{content:" "}.mediawiki-template:before{content:"{{"}.mediawiki-template:after{content:"}}"}.list-group-item.ng-enter,.list-group-item.ng-leave{transition:all .3s linear}.list-group-item.ng-enter,.list-group-item.ng-leave.ng-leave-active{opacity:0;line-height:0}.list-group-item.ng-enter.ng-enter-active,.list-group-item.ng-leave{opacity:1;line-height:1.5}img.ng-enter{transition:all .3s linear;opacity:0}img.ng-enter.ng-enter-active{opacity:1}img.ng-leave{display:none}label{font-weight:700}',""])},143:function(t,e,a){var o=a(142);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(12)(o,i);o.locals&&(t.exports=o.locals)},168:function(t,e,a){a(92),a(134),t.exports=a(104)},76:function(t,e){t.exports='<a class="btn btn-success navbar-btn ml-2" href="/locator-tool/login?next=/locator-tool/" ng-hide=$ctrl.user><svg class=octicon><use xlink:href=#sign-in></use></svg><span translate=translate>Log in</span></a><span class="navbar-text ml-2" ng-show=$ctrl.user translate=translate>Logged in as {{$ctrl.user}}</span><a class="btn btn-secondary navbar-btn ml-2" href="/locator-tool/logout?next=/locator-tool/" ng-show=$ctrl.user><svg class=octicon><use xlink:href=#sign-out></use></svg><span translate=translate>Log out</span></a>'},77:function(t,e){t.exports='<div class=progress><div class="progress-bar progress-bar-info progress-bar-striped active" style=width:100%></div></div>'},78:function(t,e,a){t.exports='<nav class="navbar navbar-light navbar-expand-md" style=margin-bottom:17px;background-color:#f7f7f7><div class=navbar-header><a class=navbar-brand ui-sref=select><img src='+a(135)+' style=height:30px /></a><a class=navbar-brand ui-sref=select><span translate=translate>locator-tool</span></a></div><ul class=navbar-nav><li class=nav-item ui-sref-active=active><a class=nav-link ui-sref=select($ctrl.params) ng-title="{{&quot;Select files to geolocate&quot; | translate}}"><svg class=octicon><use xlink:href=#tasklist></use></svg><span translate=translate>Select files</span></a></li><li class=nav-item ui-sref-active=active><a class=nav-link ng-show=$ctrl.activateLinks ui-sref=geolocate($ctrl.params)><svg class=octicon><use xlink:href=#location></use></svg><span translate=translate>Geolocate files</span></a></li><li class=nav-item ui-sref-active=active><a class=nav-link ng-show=$ctrl.activateLinks ui-sref=map($ctrl.params)><svg class=octicon><use xlink:href=#globe></use></svg><span translate=translate>Map</span></a></li><li class=nav-item ui-sref-active=active ng-title="{{&quot;About locator-tool&quot; | translate}}"><a class=nav-link ui-sref=about><span translate=translate>About</span></a></li></ul><div class=mr-auto></div><lt-language-selector class=ml-2></lt-language-selector><lt-user-info></lt-user-info></nav>'},79:function(t,e){t.exports='<div class="row fill" ng-if=$ctrl.isLoading><div class=col-sm-12><div class=jumbotron><p translate=translate>Loading file details …</p><lt-spinner></lt-spinner></div></div></div><div class="row fill" ng-if="!$ctrl.isLoading &amp;&amp; !$ctrl.titles.length"><div class=col-sm-12><div class="alert alert-warning"><svg class=octicon><use xlink:href=#alert></use></svg><span ng-if=$ctrl.category translate=translate>Fetched 0 files for category <code>{{$ctrl.category}}</code>!</span><span ng-if=$ctrl.user translate=translate>Fetched 0 files for user <code>{{$ctrl.user}}</code>!</span></div></div></div><div class="row fill" ng-if="!$ctrl.isLoading &amp;&amp; $ctrl.titles.length"><div class="col-lg-3 col-xl-2 fill col-lg-h40" style=position:relative><div class=progress><div class=progress-bar role=progressbar ng-style="{width: $ctrl.titlesDefinedAndSavedPercent + \'%\'}">{{$ctrl.titlesDefinedAndSaved.length}} / {{$ctrl.titles.length}}</div></div><div class="form-group my-2"><div class=checkbox><label><input ng-model=$ctrl.showGeolocated type=checkbox /> <span translate=translate>Also show geolocated files</span></label></div></div><div class="input-group my-2"><span class=input-group-addon><svg class=octicon><use xlink:href=#search></use></svg></span><input class=form-control ng-model=$ctrl.filter type=text /></div><div class=fill-absolute style=top:135px tabindex=1 ng-keydown=$ctrl.keyPressedInList($event)><ul class=list-group><li class="list-group-item py-1 px-2" style=line-break:loose ng-repeat="title in $ctrl.filteredTitles" ng-click="$ctrl.title = title" ng-class="{\'list-group-item-info\': title === $ctrl.title}"><abbr ng-if=title.coordinates.isDefinedAndSaved title="Location ✔"><svg class=octicon><use xlink:href=#device-camera></use></svg></abbr><abbr ng-if=title.objectLocation.isDefinedAndSaved title="Object location ✔"><svg class=octicon><use xlink:href=#squirrel></use></svg></abbr> <span>{{title.file}}</span></li></ul></div></div><div class="col-lg-9 col-xl-3 fill col-lg-h40" ng-if=$ctrl.title style=overflow-y:auto><div class=row><div class="col-lg-5 col-xl-12"><lt-file-details file=$ctrl.title></lt-file-details></div><div class="col-lg-7 col-xl-12"><lt-file-thumbnail file=$ctrl.title></lt-file-thumbnail></div></div></div><div class="col-lg-12 col-xl-7 fill col-lg-h60" ng-if=$ctrl.title><lt-map class=fill map-view=$ctrl.mapView map-marker=$ctrl.title.coordinates map-object-location=$ctrl.title.objectLocation></lt-map></div></div>'},80:function(t,e){t.exports='<div class=input-group ng-form=coordinatesForm ng-class="{\'has-error\': !coordinatesForm.$valid}"><input class=form-control type=text ng-model=$ctrl.latLng ng-model-options="{updateOn: \'default blur\', debounce: {default: 2000, blur: 0}}" ng-change="coordinatesForm.$valid &amp;&amp; $ctrl.fireChanged($ctrl.latLng)" smart-coordinate=""/><span class=input-group-btn><button class="btn btn-secondary" type=button ng-click="$ctrl.fireChanged($ctrl.latLng.withLatLng(undefined))" title="{{\'Discard\'|translate}}"><svg class=octicon><use xlink:href=#x></use></svg></button></span><span class=input-group-btn><button class="btn btn-success" type=button ng-click=$ctrl.editLocation() title="{{\'Save\'|translate}}" ng-disabled=!$ctrl.latLng.isChanged><svg class=octicon><use xlink:href=#git-commit></use></svg></button></span></div>'},81:function(t,e){t.exports="<select class=form-control ng-model=$ctrl.language><option ng-repeat=\"(key, label) in $ctrl.languages\" value={{key}}>{{label}}</option></select><span hidden=hidden translate=translate translate-comment=\"Your language in your language (e.g. 'English', 'Deutsch')\">LANGUAGE</span>"},82:function(t,e){t.exports='<h2 ng-hide=$ctrl.userInfo translate=translate>Sign in</h2><p ng-hide=$ctrl.userInfo><span translate=translate>In order to allow locator-tool to modify file description pages, sign in first:</span><a class="btn btn-success navbar-btn ml-2" href="/locator-tool/login?next=/locator-tool/"><svg class=octicon><use xlink:href=#sign-in></use></svg><span translate=translate>Log in</span></a></p><p ng-show=$ctrl.userInfo translate=translate>Hello {{$ctrl.userInfo}}!</p><h2 translate=translate>Select files to geolocate</h2><ul class="nav nav-pills my-3"><li class=nav-item><a class=nav-link translate=translate ng-click="$ctrl.$tab = $ctrl.$tabs.category" ng-class="{active: $ctrl.$tab === $ctrl.$tabs.category}">Category</a></li><li class=nav-item><a class=nav-link translate=translate ng-click="$ctrl.$tab = $ctrl.$tabs.user" ng-class="{active: $ctrl.$tab === $ctrl.$tabs.user}">User files</a></li><li class=nav-item><a class=nav-link translate=translate ng-click="$ctrl.$tab = $ctrl.$tabs.files" ng-class="{active: $ctrl.$tab === $ctrl.$tabs.files}">File list</a></li></ul><form name=formUser ng-submit=$ctrl.nextForUser() ng-show="$ctrl.$tab === $ctrl.$tabs.user"><div class=form-group><label for=inputUser translate=translate>User</label><input class=form-control id=inputUser ng-model=$ctrl.user placeholder=User:… /></div><div class=row><div class="form-group col-sm-4"><label for=inputUserLimit translate=translate translate-comment="maximum number of files">Limit</label><input class=form-control id=inputUserLimit ng-model=$ctrl.userLimit type=number /></div><div class="form-group col-sm-4"><label for=inputUserStart translate=translate>Start timestamp</label><input class=form-control id=inputUserStart ng-model=$ctrl.userStart type=date /></div><div class="form-group col-sm-4"><label for=inputUserEnd translate=translate>End timestamp</label><input class=form-control id=inputUserEnd ng-model=$ctrl.userEnd type=date /></div></div><div class="form-group btn-group"><button class="btn btn-success" ng-click=$ctrl.nextForUser() ng-disabled=!$ctrl.user><svg class=octicon><use xlink:href=#location></use></svg><span translate=translate>Load User files to geolocate</span></button><button class="btn btn-secondary" ng-click="$ctrl.nextForUser(\'map\')" ng-disabled=!$ctrl.user><svg class=octicon><use xlink:href=#globe></use></svg><span translate=translate>Show User files on map</span></button><input class=invisible type=submit ng-disabled=!$ctrl.user /></div><lt-spinner ng-if="$ctrl.getFilesForUser$q &amp;&amp; !$ctrl.getFilesForUser$q.$$state.status"></lt-spinner></form><form name=formCategory ng-submit=$ctrl.nextForCategory() ng-show="$ctrl.$tab === $ctrl.$tabs.category"><div class=row><div class="form-group col-lg-10"><label for=inputCategory translate=translate>Category</label><input class=form-control id=inputCategory list=datalistCategory ng-model=$ctrl.category ng-model-options="{updateOn: \'default blur\', debounce: {default: 500, change: 0, blur: 0}}" ng-change=$ctrl.getCategoriesForPrefix() placeholder=Category:… /></div><div class="form-group col-lg-2"><label for=inputCategoryDepth translate-comment="Depth of category tree" translate-context=Category translate=translate>Depth</label><input class=form-control id=inputCategoryDepth type=number ng-model=$ctrl.categoryDepth /></div></div><div class="form-group btn-group"><button class="btn btn-success" ng-click=$ctrl.nextForCategory() ng-disabled=!$ctrl.category><svg class=octicon><use xlink:href=#location></use></svg><span translate=translate>Load Category to geolocate</span></button><button class="btn btn-secondary" ng-click="$ctrl.nextForCategory(\'map\')" ng-disabled=!$ctrl.category><svg class=octicon><use xlink:href=#globe></use></svg><span translate=translate>Show Category on map</span></button><input class=invisible type=submit ng-disabled=!$ctrl.category /></div><lt-spinner ng-if="$ctrl.getFilesForCategory$q &amp;&amp; !$ctrl.getFilesForCategory$q.$$state.status"></lt-spinner><datalist id=datalistCategory><option ng-repeat="i in $ctrl.categorySuggestions" ng-value=i></option></datalist></form><form name=formTitles ng-show="$ctrl.$tab === $ctrl.$tabs.files"><div class=form-group><label for=inputTitles translate=translate>File list</label><textarea class=form-control id=inputTitles rows=10 ng-model=$ctrl.titles placeholder=File:… ng-paste=$ctrl.onFilesPaste($event)></textarea><p class=form-text translate=translate>When a clipboard content containing HTML code (for instance a copied selection from a Commons gallery) is pasted here, locator-tool tries to extract <code>File:</code>s from the code.</p></div><div class="form-group btn-group"><button class="btn btn-success" ng-disabled=!$ctrl.titleList.length ng-click=$ctrl.next()><svg class=octicon><use xlink:href=#location></use></svg><span translate=translate>Load {{$ctrl.titleList.length}} files to geolocate</span></button><button class="btn btn-secondary" ng-disabled=!$ctrl.titleList.length ng-click="$ctrl.next(\'map\')"><svg class=octicon><use xlink:href=#location></use></svg><span translate=translate>Show {{$ctrl.titleList.length}} files on map</span></button></div></form>'},83:function(t,e){t.exports='<img class="img-fluid img-thumbnail" ng-src={{$ctrl.thumbnailUrl}} style=max-height:100%;cursor:zoom-in ng-click="$ctrl.dialogShown = true" ng-animate-swap=$ctrl.thumbnailUrl /><div class=modal style=display:block;cursor:zoom-out;background:rgba(0,0,0,.5) ng-if=$ctrl.dialogShown ng-click="$ctrl.dialogShown = false"><div class=modal-dialog style=max-width:90%;max-height:90%;overflow-y:scroll><div class=modal-content><div class=modal-body><img class=img-fluid ng-src={{$ctrl.imageUrl}} style=margin:auto /></div></div></div></div>'},84:function(t,e){t.exports='<div class=card><h3 class="card-header p-2">{{$ctrl.file.file}}<small ng-if=$ctrl.file.url><a href={{$ctrl.file.url}} target=_blank><svg class=octicon><use xlink:href=#link-external></use></svg></a></small></h3><div class="card-block p-2"><div class=card-content><div ng-bind-html=$ctrl.file.description></div><div class=small ng-if=$ctrl.file.timestamp><svg class=octicon><use xlink:href=#calendar></use></svg> <time>{{$ctrl.file.timestamp}}</time></div><div class=small ng-if=$ctrl.file.author><svg class=octicon><use xlink:href=#person></use></svg> <span ng-bind-html=$ctrl.file.author></span></div><a ng-repeat="category in $ctrl.file.categories" ng-href=https://commons.wikimedia.org/wiki/Category:{{category}} target=_blank><span class="badge badge-secondary">{{::category}}</span></a></div></div></div><div class="card mt-2"><div class="card-block p-2"><div class=card-content><div class=form-group><label><svg class=octicon><use xlink:href=#device-camera></use></svg><span translate=translate>Camera location via <a href=https://commons.wikimedia.org/wiki/Template:Location target=_blank><code class=mediawiki-template>Location</code></a></span></label><lt-location-input lat-lng=$ctrl.file.coordinates edit-location="$ctrl.editLocation($ctrl.file, $ctrl.file.coordinates)"></lt-location-input><p class=help-block translate=translate>Left click on map to set the location.</p></div></div></div></div><div class="card mt-2"><div class="card-block p-2"><div class=card-content><div class=form-group><label><svg class=octicon><use xlink:href=#squirrel></use></svg><span translate=translate>Object location via <a href=https://commons.wikimedia.org/wiki/Template:Object_location target=_blank><code class=mediawiki-template>Object location</code></a></span></label><lt-location-input lat-lng=$ctrl.file.objectLocation edit-location="$ctrl.editLocation($ctrl.file, $ctrl.file.objectLocation)"></lt-location-input><p class=help-block translate=translate>Press shift and click on map to set the object location.</p></div></div></div></div><div class="alert alert-danger" ng-if=$ctrl.error><svg class=octicon><use xlink:href=#alert></use></svg><span translate=translate>Failed to save: {{$ctrl.error.statusText}}</span></div>'},85:function(t,e){t.exports='<div class=fill ll-map="" ll-init=$ctrl.mapInit><ll-view ll-view=$ctrl.mapView></ll-view><ll-fit-bounds ll-bounds=$ctrl.bounds></ll-fit-bounds><ll-marker ng-repeat="title in $ctrl.titles" ng-if=title.coordinates.lat ll-lat-lng=title.coordinates ll-popupopen="title._popup = 1" ng-title={{title}}><ll-popup><div style=width:300px><p><a href={{title.url}} target=_blank>{{title.file}}</a></p><img ng-if=title._popup ng-src={{::title.imageUrl(300)}} style=width:100% /></div></ll-popup></ll-marker></div>'},89:function(t,e){t.exports='<div class=fill ll-map="" ll-init=$ctrl.mapInit ll-click=$ctrl.mapClick($event) ll-baselayerchange=$ctrl.mapLayerChange($event)><ll-view ll-view=$ctrl.mapView></ll-view><ll-marker ll-lat-lng=$ctrl.mapMarker ll-marker="{draggable: true}" ll-moveend="$ctrl.markerMoveend($event, $ctrl.mapMarker)" ng-if=$ctrl.mapMarker.lat></ll-marker><ll-marker ll-lat-lng=$ctrl.mapObjectLocation ll-marker="{draggable: true}" ll-moveend="$ctrl.markerMoveend($event, $ctrl.mapObjectLocation)" ng-if=$ctrl.mapObjectLocation.lat><ll-div-icon ll-div-icon="{iconSize: [12, 12], iconAnchor: [6, 6]}"><div title="Object location"><svg class=octicon style=color:red><use xlink:href=#squirrel></use></svg></div></ll-div-icon></ll-marker></div>'},90:function(t,e){t.exports="<h1><svg class=octicon><use xlink:href=#location></use></svg><span translate=translate>locator-tool</span></h1><p translate=translate>This tool helps to add <code class=mediawiki-template>Coordinate</code> information to images on <a href=https://commons.wikimedia.org/ >Wikimedia Commons</a>.</p><h2 translate=translate>Usage</h2><ol><li translate=translate>Log in using the button on the upper right corner</li><li translate=translate><a ui-sref=select>Select files to geolocate</a> by querying a category or inputting a list of <code>File:</code>s.</li><li translate=translate>From the list of files provided, select one and click its location on an interactive map.</li><li translate=translate>Repeat …</li></ol><p><span translate=translate>Tutorial</span><span translate=translate>→ <a href=https://commons.wikimedia.org/wiki/Commons:Locator-tool>Commons:Locator-tool</a></span></p><h2 translate=translate>About</h2><ul><li translate=translate>This tool has been created by <a href=https://github.com/simon04/ >simon04</a>.</li><li translate=translate>Its source code is available on <a href=https://github.com/simon04/locator-tool>GitHub</a> and <a href=https://www.gnu.org/licenses/gpl.html>GPL v3</a> licensed.</li><li><svg class=octicon><use xlink:href=#history></use></svg><span><a href=\"https://commons.wikimedia.org/w/index.php?title=Special:RecentChanges&amp;tagfilter=OAuth+CID%3A+496\"><span translate=translate>Edits using locator-tool</span></a></span></li><li><svg class=octicon><use xlink:href=#comment></use></svg><span><a href=https://www.transifex.com/locator-tool/locator-tool/ ><span translate=translate>Translate locator-tool on Transifex</span></a></span></li><li><span translate=translate>Version:</span> <time ng-attr-datetime={{::$ctrl.buildDate.toISOString()}}>{{::$ctrl.buildDate | date:'yyyy-MM-dd'}},</time> <a ng-href=https://github.com/simon04/locator-tool/commit/{{$ctrl.buildVersion}}><code>{{::$ctrl.buildVersion}}</code></a></li></ul>"},92:function(t,e,a){"use strict";a.r(e);var o=a(2),i=a.n(o),n=a(41),r=a.n(n),l=a(40),s=a.n(l),c=a(39),g=a.n(c),u=a(38),d=a.n(u),p=(a(143),a(91)),m=a.n(p),f=function(t,e){var a=e.lat,o=e.lng;Object.assign(this,{type:t,lat:a,lng:o,_latOriginal:a,_lngOriginal:o})},h={isDefined:{configurable:!0},isChanged:{configurable:!0},isDefinedAndSaved:{configurable:!0},csv:{configurable:!0}};f.prototype.withLatLng=function(t){void 0===t&&(t={lat:this._latOriginal,lng:this._lngOriginal});var e=t.lat,a=t.lng,o=new f(this.type,{lat:e,lng:a});return o._latOriginal=this._latOriginal,o._lngOriginal=this._lngOriginal,o},f.prototype.markAsSaved=function(){Object.assign(this,{_latOriginal:this.lat,_lngOriginal:this.lng})},h.isDefined.get=function(){return this.lat&&this.lng},h.isChanged.get=function(){return this.lat!==this._latOriginal||this.lng!==this._lngOriginal},h.isDefinedAndSaved.get=function(){return this.isDefined&&!this.isChanged},h.csv.get=function(){return this.isDefined&&[this.lat,this.lng].map(b).join(", ")},Object.defineProperties(f.prototype,h);var v=f;function b(t){return t%1==0?t.toFixed(1):t}function y(t,e,a,o,n,r){var l=50;return{getCoordinates:s,getCategoriesForPrefix:function(t){return u({list:"allpages",apnamespace:14,aplimit:30,apfrom:t,apprefix:t}).then(function(t){return t.query.allpages.map(function(t){return t.title.replace(/^Category:/,"")})})},getFileDetails:function(t){var e={prop:"categories|imageinfo|revisions",clshow:"!hidden",pageids:t,iiprop:"url|extmetadata",iiextmetadatafilter:"ImageDescription|Artist|DateTimeOriginal",rvprop:"content"},i=a("imageinfo[0].extmetadata.ImageDescription.value"),n=a("imageinfo[0].extmetadata.Artist.value"),r=a("imageinfo[0].extmetadata.DateTimeOriginal.value"),l=a("imageinfo[0].descriptionurl");return u(e).then(function(e){var a=e&&e.query&&e.query.pages&&e.query.pages[t]||{},s=(a&&a.categories||[]).map(function(t){return t.title.replace(/^Category:/,"")});return{categories:s,description:o.trustAsHtml(i(a)),author:o.trustAsHtml(n(a)),timestamp:r(a),url:l(a),objectLocation:function(t){try{var e,a,o=t.revisions[0]["*"],i=o.match(/\{\{Object location( dec)?\|([0-9]+)\|([0-9]+)\|([0-9.]+)\|([NS])\|([0-9]+)\|([0-9]+)\|([0-9.]+)\|([WE])/i),n=o.match(/\{\{Object location( dec)?\s*\|\s*([0-9.]+)\s*\|\s*([0-9.]+)/i);return i?(e=parseInt(i[2])+parseInt(i[3])/60+parseFloat(i[4])/3600,e*="N"===i[5]?1:-1,a=parseInt(i[6])+parseInt(i[7])/60+parseFloat(i[8])/3600,a*="E"===i[9]?1:-1):n&&(e=parseFloat(n[2]),a=parseFloat(n[3])),new v("Object location",{lat:e,lng:a})}catch(t){return new v("Object location",{})}}(a)}})},getFiles:function(t){var e=t.files,a=t.user,o=t.userLimit,i=t.userStart,r=t.userEnd,l=t.category,s=t.categoryDepth;return n(function(t,n){e?t(e):a?c(a,o,i,r).then(t):l?g(l,s).then(t):n()})},getFilesForUser:c,getFilesForCategory:g};function s(t){return i.a.isString(t)&&(t=t.split("|")),t.length>l?function(t){var e=Object.assign([],t),a=[];for(;e.length;)a.push(e.splice(0,Math.min(l,e.length)));var o=a.map(s);return n.all(o).then(function(t){return(e=[]).concat.apply(e,t);var e})}(t):u({prop:"coordinates",coprop:"type|name",coprimary:"all",titles:t.join("|").replace(/_/g," ")}).then(function(t){var e=t&&t.query&&t.query.pages||{};return Object.keys(e).map(function(t){var o=e[t],i=o.coordinates||[];return{pageid:parseInt(t),file:o.title,url:"https://commons.wikimedia.org/wiki/"+o.title,imageUrl:function(t){var e="https://commons.wikimedia.org/wiki/Special:FilePath/"+this.file.replace(/^File:/,"");return t>=2048?e:t>=1280?e+"?width=2048":e+"?width=1024"},coordinates:new v("Location",a(i.find(function(t){return""===t.primary&&"camera"===t.type}))),objectLocation:new v("Object location",a(i.find(function(t){return"object"===t.type})))}});function a(t){return i.a.isObject(t)?{lat:t.lat,lng:t.lon}:{}}})}function c(t,e,a,o){return u({list:"usercontribs",ucuser:t,ucnamespace:6,ucshow:"new",uclimit:e||"max",ucstart:o,ucend:a,ucdir:"older",ucprop:"title"},{},function(t){return t.continue&&(!e||t.query.usercontribs.length<e)}).then(function(t){return t.query.usercontribs.map(function(t){return t.title})}).then(function(t){return e?r(t,e):t})}function g(e,a){return void 0===a&&(a=3),e=e.replace(/^Category:/,""),o=[function(e,a){var o={lang:"commons",cat:e.replace(/^Category:/,""),type:6,depth:a,json:1};return t.get("https://tools.wmflabs.org/cats-php/",{params:o}).then(function(t){return t.data.map(function(t){return"File:"+t})})}(e,a),function(e,a){var o={action:"query",lang:"commons",query:e,querydepth:a,flaws:"ALL",format:"json"};return t.get("/render/tlgbe/tlgwsgi.py",{params:o,transformResponse:function(t){var e="["+t.replace(/\n/g,",").replace(/,$/,"")+"]";return JSON.parse(e)}}).then(function(t){var e=t.data.filter(function(t){return!!t.exception}).map(function(t){return t.exception});if(e.length)throw new Error(e[0]);return t.data.filter(function(t){return!!t.page}).map(function(t){return t.page.page_title})})}(e,a)],n(function(t,e){o.forEach(function(e){return e.then(t)}),n.all(o).catch(e)});var o}function u(a,o,i){void 0===o&&(o={}),void 0===i&&(i=function(t){return!!t.continue});var n=e(a);return t.post("https://commons.wikimedia.org/w/api.php",n,{params:{action:"query",format:"json",origin:"*"}}).then(function(t){return t.data}).then(function(t){return m()(o,t,{arrayMerge:function(t,e){return(a=[]).concat.apply(a,t.concat(e));var a}})}).then(function(t){return i(t)?u(Object.assign(a,{continue:void 0},t.continue),Object.assign(t,{continue:void 0}),i):t})}}function k(t){return{getUserInfo:function(){return t.get("/locator-tool/user").then(function(t){return t.data&&t.data.user})},editLocation:function(e,a){var o=e.pageid,i=a.type,n=a.lat,r=a.lng;return t({method:"POST",url:"/locator-tool/edit",data:{type:i,lat:n,lng:r,pageid:o}}).then(function(t){var e=t.data;if(!e.result||!e.result.edit||"Success"!==e.result.edit.result)throw e})}}}y.$inject=["$http","$httpParamSerializer","$parse","$sce","$q","limitToFilter"],k.$inject=["$http"];var w,$=i.a.module("app.api",[]).factory("ltData",y).factory("ltDataAuth",k).name,L=a(36),x=a(90),C={controller:function(){this.buildDate=1520797902037,this.buildVersion="cae419a"},template:a.n(x).a},S=a(89),j=a.n(S),D=a(88),T=a.n(D),O=a(87),A=a.n(O),F=a(37),I=a.n(F),M=a(86),z=a.n(M),U=function(t,e){Object.assign(this,{$scope:t,localStorageService:e}),w=this.localStorageService.get("mapLayer")||"OSM"};U.prototype.mapInit=function(t,e){U._mapInit(t,e)},U._mapInit=function(t,e){delete t.Icon.Default.prototype._getIconUrl,t.Icon.Default.mergeOptions({iconRetinaUrl:A.a,iconUrl:I.a,shadowUrl:z.a}),e.attributionControl.setPrefix(!1);var a='<svg class="octicon"><use xlink:href="#link-external"></use></svg>',o='<a href="https://www.openstreetmap.org/copyright" target="_blank">\n      OpenStreetMap</a> contributors',i=t.tileLayer("https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",{name:"Wikimedia maps",maxZoom:18,attribution:"Wikimedia maps | Map data &copy; "+o}),n=t.tileLayer("https://tiles.wmflabs.org/osm/{z}/{x}/{y}.png",{name:"OSM @wmflabs.org",maxZoom:18,attribution:o}),r=t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{name:"OSM "+a,maxZoom:19,attribution:o}),l=t.tileLayer("https://maps{s}.wien.gv.at/basemap/bmaporthofoto30cm/normal/google3857/{z}/{y}/{x}.jpeg",{name:"basemap.at 🇦🇹 "+a,subdomains:"1234",maxZoom:20,attribution:'<a href="https://www.basemap.at/" target="_blank">basemap.at</a>\n        (<a href="https://creativecommons.org/licenses/by/3.0/at/deed.de" target="_blank">\n        CC-BY 3.0 AT</a>)'}),s=t.tileLayer("https://mapserver.mapy.cz/1base-m/{z}-{x}-{y}",{name:"Mapy.cz base 🇨🇿 "+a,maxZoom:18,attribution:o}),c=t.tileLayer("https://mapserver.mapy.cz/bing/{z}-{x}-{y}",{name:"Mapy.cz Photo 🇨🇿 "+a,maxZoom:20,attribution:o}),g=t.tileLayer("https://mapserver.mapy.cz/1turist-m/{z}-{x}-{y}",{name:"Mapy.cz Touristic map 🇨🇿 "+a,maxZoom:18,attribution:o}),u=t.control.layers().addTo(e),d=[r,n,i,l,s,c,g];d.forEach(function(t){return u.addBaseLayer(t,t.options.name)}),(d.filter(function(t){return t.options.name===w}).shift()||n).addTo(e);var p=new T.a({collapsed:!1,placeholder:"…",position:"topleft",defaultMarkGeocode:!1});p.on("markgeocode",function(t){return e.fitBounds((t.geocode||t).bbox)}),p.addTo(e)},U.prototype.mapClick=function(t){var e=t.latlng,a=e.lat,o=e.lng,i=t.originalEvent.shiftKey;if(a&&o){var n=(i?this.mapObjectLocation:this.mapMarker).withLatLng({lat:E(a),lng:E(o)});this.$scope.$emit("coordinatesChanged",n)}},U.prototype.markerMoveend=function(t,e){var a=t.target.getLatLng(),o=a.lat,i=a.lng;if(o&&i){var n=e.withLatLng({lat:E(o),lng:E(i)});this.$scope.$emit("coordinatesChanged",n)}},U.prototype.mapLayerChange=function(t){this.localStorageService.set("mapLayer",t.name)},U.$inject=["$scope","localStorageService"];var P={bindings:{mapView:"<",mapMarker:"<",mapObjectLocation:"<"},template:j.a,controller:U};function E(t,e){return void 0===e&&(e=1e8),t*e%1?Math.round(t*e)/e:t}var _=a(85),G=a.n(_),N={lat:51.505,lng:-.09,zoom:13},V=function(t,e,a){var o=this;this.mapView=a.get("mapView")||N,t.getFiles(e).then(t.getCoordinates).then(function(t){o.titles=t;var e=t.map(function(t){return t.coordinates}).filter(function(t){return t.isDefined});e.length&&(o.bounds=e)})};V.prototype.mapInit=function(t,e){new P.controller._mapInit(t,e)},V.$inject=["ltData","$stateParams","localStorageService"];var q={template:G.a,controller:V},H=a(84),W=a.n(H),Z=function(t){Object.assign(this,{ltDataAuth:t})};Z.prototype.editLocation=function(t,e){var a=this;return this.error=void 0,this.ltDataAuth.editLocation(t,e).then(function(){e.markAsSaved()},function(t){a.error=t})},Z.$inject=["ltDataAuth"];var B={bindings:{file:"<"},controller:Z,template:W.a},K=a(83),Y=a.n(K),R=function(t){this.$window=t},Q={thumbnailUrl:{configurable:!0},imageUrl:{configurable:!0}};Q.thumbnailUrl.get=function(){return this.file.imageUrl(1024)},Q.imageUrl.get=function(){return this.file.imageUrl(this.$window.innerWidth)},Object.defineProperties(R.prototype,Q),R.$inject=["$window"];var J={bindings:{file:"<"},controller:R,template:Y.a},X=a(82),tt=a.n(X),et=function(t,e,a,o,i){var n=this,r={category:{},user:{},files:{}};function l(t,e,a){if(!e)return a;try{return t(e)}catch(t){return a}}Object.assign(this,{$tab:i.user?r.user:r.category,$tabs:r,ltData:t,$log:a,$state:o,category:i.category,categoryDepth:l(parseInt,i.categoryDepth,3),user:i.user,userLimit:l(parseInt,i.userLimit,void 0),userStart:l(function(t){return new Date(t)},i.userStart,void 0),userEnd:l(function(t){return new Date(t)},i.userEnd,void 0),titles:""}),e.getUserInfo().then(function(t){n.userInfo=t,n.user=n.user||t})},at={titleList:{configurable:!0}};et.prototype.getCategoriesForPrefix=function(){var t=this;this.ltData.getCategoriesForPrefix(this.category).then(function(e){t.categorySuggestions=e})},et.prototype.next=function(t){void 0===t&&(t="geolocate");var e=this.titleList.join("|");this.$state.go(t,{files:e})},et.prototype.nextForUser=function(t){void 0===t&&(t="geolocate");var e=this.user,a=this.userLimit,o=i.a.isDate(this.userStart)?this.userStart.toISOString():void 0,n=i.a.isDate(this.userEnd)?this.userEnd.toISOString():void 0;this.$state.go(t,{user:e,userLimit:a,userStart:o,userEnd:n})},et.prototype.nextForCategory=function(t){void 0===t&&(t="geolocate");var e=this.category,a=this.categoryDepth;this.$state.go(t,{category:e,categoryDepth:a})},at.titleList.get=function(){return this.titles.split("\n").map(function(t){return t&&t.split("|")[0]}).filter(function(t){return t})},at.titleList.set=function(t){this.titles=t&&t.join("\n")},et.prototype.onFilesPaste=function(t){try{if(!t.clipboardData)return;var e=t.clipboardData.getData("text/html");if(!e)return;var a=(new DOMParser).parseFromString(e,"text/html").getElementsByTagName("a"),o={};[].slice.call(a).map(function(t){return decodeURI(t.href)}).filter(function(t){return!!t}).map(function(t){return t.replace(/.*File:/,"File:")}).forEach(function(t){return o[t]=!0}),this.titleList=Object.keys(o),t.preventDefault()}catch(t){this.$log.warn("Could not parse HTML clipboard content",t)}},Object.defineProperties(et.prototype,at),et.$inject=["ltData","ltDataAuth","$log","$state","$stateParams"];var ot={template:tt.a,controller:et},it=a(81),nt=a.n(it),rt=(a(139),a(138),a(137),a(136),function(t,e,a,o){var i=this;Object.assign(this,{$window:t,localStorageService:e,gettext:a,gettextCatalog:o}),this.languages={bn:this.getDisplayString("bn"),cs:this.getDisplayString("cs"),de:this.getDisplayString("de"),en:"English",fr:this.getDisplayString("fr")};var n=e.get("language");if(n)o.setCurrentLanguage(n);else if(t.navigator&&t.navigator.languages){var r=t.navigator.languages.filter(function(t){return i.languages[t]});r.length&&o.setCurrentLanguage(r[0])}}),lt={language:{configurable:!0}};lt.language.get=function(){return this.gettextCatalog.getCurrentLanguage()},lt.language.set=function(t){this.localStorageService.set("language",t),this.gettextCatalog.setCurrentLanguage(t)},rt.prototype.getDisplayString=function(t){return this.gettextCatalog.getStringFormFor(t,"LANGUAGE",1)||t},Object.defineProperties(rt.prototype,lt),rt.$inject=["$window","localStorageService","gettext","gettextCatalog"];var st={template:nt.a,controller:rt},ct=a(80),gt=a.n(ct),ut=function(t){this.$scope=t};ut.prototype.fireChanged=function(t){this.$scope.$emit("coordinatesChanged",t)},ut.$inject=["$scope"];var dt={bindings:{latLng:"<",editLocation:"&"},controller:ut,template:gt.a},pt=a(79),mt=a.n(pt),ft={lat:51.505,lng:-.09,zoom:13},ht=function(t,e,a,o,i,n,r,l){var s=this;Object.assign(this,{ltData:t,ltDataAuth:o,localStorageService:n,filterFilter:r});var c=a.category,g=a.user,u=a.files;Object.assign(this,{category:c,user:g,files:u}),this.mapView=n.get("mapView")||ft;var d=t.getFiles(a),p=d.then(t.getCoordinates).then(function(t){s.titles=l(t,function(t){return t.file}),s.showGeolocated=s.titles.length<=5,s.title=s.titles.filter(function(t){return s.showGeolocated||!t.coordinates.lat})[0]});this.loading$q=i.all([d,p]),e.$watch("$ctrl.title",function(t){return s.titleChanged(t)}),e.$watch("$ctrl.mapView",function(t){return s.mapViewChanged(t)},!0),e.$on("coordinatesChanged",function(t,e){return s.coordinatesChanged(e)})},vt={isLoading:{configurable:!0},filteredTitles:{configurable:!0},titlesDefinedAndSaved:{configurable:!0},titlesDefinedAndSavedPercent:{configurable:!0}};vt.isLoading.get=function(){return this.loading$q&&!this.loading$q.$$state.status},ht.prototype._hasLocation=function(t){return t.coordinates.isDefinedAndSaved||t.objectLocation.isDefinedAndSaved},vt.filteredTitles.get=function(){var t=this,e=this.showGeolocated||!this.titles?this.titles:this.titles.filter(function(e){return!t._hasLocation(e)});return e=this.filterFilter(e,this.filter)},vt.titlesDefinedAndSaved.get=function(){return this.titles?this.titles.filter(this._hasLocation):[]},vt.titlesDefinedAndSavedPercent.get=function(){return 100*this.titlesDefinedAndSaved.length/(this.titles||[]).length},ht.prototype.keyPressedInList=function(t){var e=this.filteredTitles,a=function(t){if(t&&t.keyCode)switch(t.keyCode){case 39:case 40:return t.preventDefault(),1;case 37:case 38:return t.preventDefault(),-1}}(t)+e.indexOf(this.title);a>=0&&e[a]&&(this.title=e[a])},ht.prototype.titleChanged=function(t){var e=this;this.error=void 0,t&&t.coordinates&&this.updateMapView(t.coordinates),t&&t.pageid&&this.ltData.getFileDetails(t.pageid).then(function(a){Object.assign(t,a);var o=t.objectLocation,i=o.lat,n=o.lng;t.coordinates&&t.coordinates.lat||e.updateMapView({lat:i,lng:n})})},ht.prototype.mapViewChanged=function(t){this.localStorageService.set("mapView",t)},ht.prototype.updateMapView=function(t){var e=t.lat,a=t.lng;e&&a&&Object.assign(this.mapView,{lat:e,lng:a})},ht.prototype.coordinatesChanged=function(t){t&&("Location"===t.type?this.title.coordinates=this.title.coordinates.withLatLng(t):"Object location"===t.type&&(this.title.objectLocation=this.title.objectLocation.withLatLng(t)))},Object.defineProperties(ht.prototype,vt),ht.$inject=["ltData","$scope","$stateParams","ltDataAuth","$q","localStorageService","filterFilter","orderByFilter"];var bt={template:mt.a,controller:ht};var yt=a(78),kt=a.n(yt),wt=function(t){var e=this;this.params=void 0,t.onSuccess({},function(t){e.params=t.params()})},$t={activateLinks:{configurable:!0}};$t.activateLinks.get=function(){return this.params&&(this.params.files||this.params.user||this.params.category)},Object.defineProperties(wt.prototype,$t),wt.$inject=["$transitions"];var Lt={controller:wt,template:kt.a},xt=a(77),Ct={template:a.n(xt).a},St=a(76),jt=a.n(St),Dt=function(t){var e=this;t.getUserInfo().then(function(t){e.user=t})};Dt.$inject=["ltDataAuth"];var Tt={template:jt.a,controller:Dt};var Ot=i.a.module("app.components",[L.a]).component("ltAbout",C).component("ltAllMap",q).component("ltFileDetails",B).component("ltFileThumbnail",J).component("ltFilesSelector",ot).component("ltLanguageSelector",st).component("ltLocationInput",dt).component("ltMain",bt).component("ltMap",P).component("ltNavbar",Lt).component("ltSpinner",Ct).component("ltUserInfo",Tt).directive("smartCoordinate",function(){var t=/([+-]?\d+\.\d*)[,;\s]+([+-]?\d+\.\d*)/;return{require:"ngModel",link:function(e,a,o,i){var n;i.$parsers.push(function(e){n||(n=i.$modelValue&&i.$modelValue.type);var a=e.match(t);return i.$setValidity("coordinate",a||i.$isEmpty(e)),a||i.$isEmpty(e)?new v(n,{lat:a?parseFloat(a[1]):void 0,lng:a?parseFloat(a[2]):void 0}):void 0}),i.$formatters.push(function(t){return t&&t.csv})}}}).name;function At(t){t.preAssignBindingsEnabled(!0)}function Ft(t,e,a){a.hashPrefix(""),t.state("about",{url:"/about",component:"ltAbout"});var o=["files","user","userLimit","userStart","userEnd","category","categoryDepth"].join("&");t.state("select",{url:"/?"+o,component:"ltFilesSelector"}),t.state("geolocate",{url:"/geolocate?"+o,component:"ltMain"}),t.state("map",{url:"/map?"+o,component:"ltAllMap"}),e.otherwise("/")}i.a.module("app",[r.a,g.a,s.a,d.a,$,Ot]),i.a.module("app").config(At),i.a.module("app").config(Ft),At.$inject=["$compileProvider"],Ft.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],i.a.element(document).ready(function(){i.a.bootstrap(document,["app"],{strictDi:!0})})}});